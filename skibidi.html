<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Web2View Loader</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Inter',sans-serif;}
body{
    display:flex;
    justify-content:center;
    align-items:center; /* vertical center */
    height:100vh;
    background:linear-gradient(135deg,#1e3c72,#2a5298);
    overflow:hidden;
    color:#fff;
    position:relative;
}

/* Floating background circles */
.circle{position:absolute;border-radius:50%;opacity:0.2;animation: float 25s infinite linear;}
.circle:nth-child(1){width:200px;height:200px;background:#ff6ec7;top:10%;left:15%;}
.circle:nth-child(2){width:150px;height:150px;background:#00f2fe;top:50%;left:70%;}
.circle:nth-child(3){width:250px;height:250px;background:#ffde6c;top:70%;left:30%;}
@keyframes float{0%{transform:translateY(0) rotate(0deg);}50%{transform:translateY(-50px) rotate(180deg);}100%{transform:translateY(0) rotate(360deg);}}

/* Container */
.container{
    position: relative;
    width: 500px;
    min-height: 650px; /* taller panel */
    background: rgba(255,255,255,0.05);
    border-radius: 20px;
    backdrop-filter: blur(15px);
    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    padding: 20px;
    z-index: 1;
    animation: fadeIn 1s ease forwards;
    transition: opacity 0.5s;
    display:flex;
    flex-direction: column;
}
@keyframes fadeIn{from{opacity:0;transform:translateY(-20px);}to{opacity:1;transform:translateY(0);}}

/* Tabs */
.tabs{display:flex;justify-content:space-around;margin-bottom:20px;}
.tab{padding:10px 20px;cursor:pointer;border-radius:15px;transition:0.3s;}
.tab.active, .tab:hover{background:rgba(255,255,255,0.2);}

/* Tab Content */
.tab-content{display:none;animation:slideFade 0.5s ease;}
.tab-content.active{display:block;}
@keyframes slideFade{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}

/* Buttons */
button{padding:15px 40px;font-size:1rem;font-weight:600;color:#fff;background:linear-gradient(45deg,#ff6ec7,#00f2fe);border:none;border-radius:50px;cursor:pointer;transition:all 0.3s ease;box-shadow:0 0 20px rgba(0,0,0,0.2);position:relative;overflow:hidden;margin-top:10px;}
button::after{content:'';position:absolute;width:200%;height:200%;background:rgba(255,255,255,0.15);top:-50%;left:-50%;transform:rotate(45deg);transition:0.5s;}
button:hover::after{top:-20%;left:-20%;}
button:hover{transform:scale(1.05);box-shadow:0 0 40px rgba(255,110,199,0.6),0 0 40px rgba(0,242,254,0.6);}

/* Settings UI */
.setting{margin:15px 0;}
.setting label{display:block;margin-bottom:5px;font-weight:500;}
.setting input[type="checkbox"]{width:18px;height:18px;margin-right:10px;}
.setting select, .setting input[type="color"], .setting input[type="range"]{width:100%;padding:5px;border-radius:8px;border:none;outline:none;margin-bottom:10px;}
.preconfigs{display:flex;gap:10px;margin-top:10px;}
.preconfigs button{flex:1;padding:8px;border-radius:10px;background:rgba(255,255,255,0.2);border:none;color:#fff;cursor:pointer;transition:0.3s;}
.preconfigs button:hover{background:rgba(255,255,255,0.35);}

/* Inject overlay */
#injectOverlay{
    position:absolute;
    top:0;left:0;width:100%;height:100%;
    background:rgba(0,0,0,0.9);
    display:flex;justify-content:center;align-items:center;flex-direction:column;
    opacity:0;pointer-events:none;
    transition:opacity 0.5s;
    z-index:10;
}
#injectOverlay.show{opacity:1;pointer-events:auto;}
.loader{border:5px solid rgba(255,255,255,0.2);border-top:5px solid #fff;border-radius:50%;width:80px;height:80px;animation:spin 1s linear infinite;margin-bottom:20px;}
@keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}
#successMessage{opacity:0;font-size:2rem;transition:opacity 0.5s;color:#fff;}
#successMessage.show{opacity:1;}
</style>
</head>
<body>

<div class="circle"></div>
<div class="circle"></div>
<div class="circle"></div>

<div class="container">
    <div class="tabs">
        <div class="tab active" data-tab="home">Home</div>
        <div class="tab" data-tab="settings">Settings</div>
        <div class="tab" data-tab="about">About</div>
    </div>

    <div id="home" class="tab-content active">
        <h2>Welcome!</h2>
        <button id="testBtn">Press Me</button>
        <button id="injectBtn">Inject</button>
    </div>

    <div id="settings" class="tab-content">
        <h2>Settings</h2>
        <div class="setting">
            <label><input type="checkbox" id="featureA"> Enable Feature A</label>
            <label><input type="checkbox" id="featureB"> Enable Feature B</label>
        </div>
        <div class="setting">
            <label>Slider Control</label>
            <input type="range" id="slider1" min="0" max="100" value="50">
        </div>
        <div class="setting">
            <label>Theme Color</label>
            <input type="color" id="themeColor" value="#00f2fe">
        </div>
        <div class="setting">
            <label>Preconfig Themes</label>
            <div class="preconfigs">
                <button data-theme="dark">Dark</button>
                <button data-theme="light">Light</button>
                <button data-theme="neon">Neon</button>
            </div>
        </div>
    </div>

    <div id="about" class="tab-content">
        <h2>About</h2>
        <p>Premium Web2View loader UI: each control sends its own message to C#.</p>
    </div>
</div>

<!-- Inject overlay -->
<div id="injectOverlay">
    <div class="loader"></div>
    <div id="successMessage">Success!</div>
</div>

<script>
// Tabs
const tabs = document.querySelectorAll('.tab');
const contents = document.querySelectorAll('.tab-content');
tabs.forEach(tab=>{
    tab.addEventListener('click',()=>{
        tabs.forEach(t=>t.classList.remove('active'));
        tab.classList.add('active');
        const target = tab.getAttribute('data-tab');
        contents.forEach(c=>{c.classList.remove('active'); if(c.id===target)c.classList.add('active');});
    });
});

// Send message to C#
function sendMessage(msg){
    if(window.chrome && window.chrome.webview){
        window.chrome.webview.postMessage(msg);
    }
}

// Home button
document.getElementById('testBtn').addEventListener('click',()=>sendMessage('testBtn'));

// Settings controls
document.getElementById('featureA').addEventListener('change',()=>sendMessage('featureA'));
document.getElementById('featureB').addEventListener('change',()=>sendMessage('featureB'));
document.getElementById('slider1').addEventListener('input',()=>sendMessage('slider1'));
document.getElementById('themeColor').addEventListener('input',()=>sendMessage('themeColor'));

// Preconfig buttons
document.querySelectorAll('.preconfigs button').forEach(btn=>{
    btn.addEventListener('click',()=>{
        const theme = btn.getAttribute('data-theme');
        applyTheme(theme);
        sendMessage(`preconfig:${theme}`);
    });
});

// Inject button with overlay
document.getElementById('injectBtn').addEventListener('click',()=>{
    const overlay = document.getElementById('injectOverlay');
    const success = document.getElementById('successMessage');
    const container = document.querySelector('.container');

    // Hide main container
    container.style.opacity = '0';
    overlay.classList.add('show');
    sendMessage('inject_start');

    setTimeout(()=>{
        overlay.querySelector('.loader').style.display='none';
        success.classList.add('show');
        sendMessage('inject_success');

        setTimeout(()=>{
            overlay.classList.remove('show');
            overlay.querySelector('.loader').style.display='block';
            success.classList.remove('show');
            container.style.opacity = '1';
        },1500);
    },2000);
});

// Apply theme
function applyTheme(theme){
    if(theme==='dark'){document.body.style.background='linear-gradient(135deg,#1e1e1e,#3c3c3c)';}
    else if(theme==='light'){document.body.style.background='linear-gradient(135deg,#ffffff,#d0d0d0)';}
    else if(theme==='neon'){document.body.style.background='linear-gradient(135deg,#ff00ff,#00ffff)';}
}

// Block DevTools / shortcuts
document.addEventListener('keydown', function(e){
    if(e.key==='F12' || (e.ctrlKey && e.shiftKey && (e.key==='I'||e.key==='J')) || (e.ctrlKey&&(e.key==='U'||e.key==='S'))){e.preventDefault();}
});
</script>
</body>
</html>
